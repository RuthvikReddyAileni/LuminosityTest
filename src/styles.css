/* ===== LIGHT THEME: pleasant, airy, high-contrast ===== */
:root{
  --bg:#f7f9fc;
  --panel:#ffffff;
  --border:#e5e7eb;
  --muted:#6b7280;
  --text:#111827;
  --brand:#3b82f6;      /* primary */
  --brand-2:#10b981;    /* success */
  --danger:#ef4444;
  --ring:#3b82f666;     /* focus ring */
}
*{ box-sizing:border-box; }
html,body,#app{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text);
  background: linear-gradient(180deg,#f7f9fc, #ffffff 60%, #f7f9fc);
}
img{ display:block; max-width:100%; height:auto; }
button{ cursor:pointer; }
button:disabled{ cursor:not-allowed; opacity:.6; }

/* ===== LAYOUT ===== */
.container{ width:100%; max-width:none; margin:0; padding:1rem 1.25rem; }
.header{ display:flex; gap:1rem; align-items:center; justify-content:flex-start; flex-wrap:wrap; }
.header__brand{ display:flex; gap:.75rem; align-items:center; }
.header__title{ font-size:1.125rem; font-weight:700; letter-spacing:.2px; }
.header__filters{ display:flex; gap:.5rem; align-items:center; margin-left:auto; flex-wrap:wrap; }

.layout{ display:grid; grid-template-columns:1fr; gap:1.25rem; }
@media (min-width:1024px){
  .layout.cart-open{
    grid-template-columns: minmax(0,70%) minmax(320px,30%);
    align-items:start; column-gap:1.5rem;
  }
  .layout.cart-open .catalog{ grid-column:1/2; }
  .layout.cart-open .order-panel{ grid-column:2/3; }
}

/* Sticky order summary column */
.order-panel{
  position:sticky; top:1rem;
  max-height:calc(100vh - 2rem);
  overflow:auto; z-index:0;
}

/* ===== GRID (catalog) ===== */
.grid{ display:grid; gap:1rem; margin-top:1rem; grid-template-columns:repeat(auto-fill, minmax(260px,1fr)); }
@media (min-width:1024px){ .grid{ grid-template-columns:repeat(2, minmax(520px,1fr)); } }
@media (min-width:1600px){ .grid{ grid-template-columns:repeat(3, minmax(480px,1fr)); } }

/* ===== CARD ===== */
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  overflow:hidden;
  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
  box-shadow: 0 1px 2px rgba(16,24,40,.04);
}
.card:hover,.card:focus-within{
  transform:translateY(-1px);
  border-color:#d1d5db;
  box-shadow: 0 8px 24px rgba(16,24,40,.08);
}
.card__img{
  aspect-ratio:16/9;
  background:#f2f4f7;
  display:grid; place-items:center;
}
.card__body{ padding:.875rem 1rem 1rem; display:grid; gap:.5rem; }
.card__title{ font-weight:700; font-size:1rem; }
.card__desc{ color:var(--muted); font-size:.95rem; line-height:1.4; min-height:3.2em; }
.card__meta{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.price{ font-weight:700; }
.stock{ color:#475569; font-size:.9rem; }
.badge{ padding:.125rem .5rem; border-radius:999px; font-size:.75rem; border:1px solid var(--border); color:#334155; background:#f8fafc; }

@media (min-width:1024px){
  .card.card--landscape{ display:grid; grid-template-columns:1.15fr 1fr; align-items:stretch; }
  .card.card--landscape .card__img{ aspect-ratio:auto; height:100%; }
  .card.card--landscape .card__img img{ width:100%; height:100%; object-fit:cover; }
  .card.card--landscape .card__body{ padding:1rem; }
}

/* ===== INPUT ===== */
.input{
  display:inline-flex; align-items:center; gap:.5rem;
  border:1px solid var(--border); background:#fff; padding:.375rem .5rem;
  border-radius:10px; color:var(--text);
}
.input:focus-within{ outline:3px solid var(--ring); outline-offset:2px; border-color:#cbd5e1; }
.input input[type="number"]{
  width:64px; padding:.25rem .375rem; background:transparent; color:inherit;
  border:none; outline:none; font-size:.95rem;
}

/* ===== BUTTONS ===== */
:focus-visible{ outline:3px solid var(--ring); outline-offset:2px; }
.btn{
  border:1px solid var(--border); background:#fff; color:var(--text);
  padding:.5rem .75rem; border-radius:10px; font-weight:600;
  transition: background 150ms ease, border-color 150ms ease, transform 80ms ease, box-shadow 150ms ease;
  box-shadow: 0 1px 1px rgba(16,24,40,.04);
}
.btn:hover{ background:#f3f4f6; border-color:#d1d5db; }
.btn:active{ transform:translateY(0); background:#ebeef2; }

.btn--brand{ background:var(--brand); border-color:var(--brand); color:#fff; }
.btn--brand:hover{ filter:brightness(1.05); }
.btn--brand:active{ filter:brightness(.96); }

.btn--ghost{ background:#f8fafc; }

[aria-pressed="true"].btn,
[aria-pressed="true"].btn.btn--ghost{
  background:#e9efff; border-color:#c7d7fe; color:#1e3a8a;
}

/* Cart button badge */
.cart-btn{ display:inline-flex; align-items:center; gap:.5rem; position:relative; white-space:nowrap; }
.cart-badge{
  min-width:1.25rem; height:1.25rem; padding:0 .25rem; border-radius:999px;
  display:grid; place-items:center; font-size:.75rem; font-weight:800;
  background:var(--brand-2); color:#064e3b; line-height:1;
}

/* ===== PANELS ===== */
.panel{
  background:var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:1rem;
}
.panel h2{ margin:0 0 .75rem; font-size:1.05rem; }

/* ===== TABLE ===== */
.table{
  width:100%; border-collapse:collapse; font-size:.95rem; table-layout:fixed;
}
.table th,.table td{
  padding:.5rem; border-bottom:1px solid var(--border);
  text-align:left; vertical-align:top; white-space:normal; word-break:break-word;
}
.table thead th:nth-child(1), .table tbody td:nth-child(1){ width:48%; }
.table thead th:nth-child(2), .table tbody td:nth-child(2){ width:12%; }
.table thead th:nth-child(3), .table tbody td:nth-child(3){ width:20%; }
.table thead th:nth-child(4), .table tbody td:nth-child(4){ width:20%; }
.table tfoot td{ font-weight:800; }

/* ===== UTILITIES ===== */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
.notice{ color:var(--danger); font-size:.92rem; }

/* ===== TOP BAR (sticky, premium look) ===== */
.topbar{
  position: sticky;
  top: 0;
  z-index: 40;
  background: rgba(255,255,255,.9);
  backdrop-filter: saturate(180%) blur(10px);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 8px 24px rgba(16,24,40,.06);
  padding: .65rem 1rem;
}

/* brand: logo tile + strong title */
.header__brand img{
  width: 40px; height: 40px; border-radius: 10px;
  background: #fff; border: 1px solid var(--border);
  box-shadow: 0 1px 2px rgba(16,24,40,.04);
}
.header__title{
  font-weight: 800;
  color: #0f172a;
  letter-spacing: .2px;
}

/* nav chips: elegant pills with subtle ring on hover/active */
.header__filters .btn{
  border-radius: 9999px;
  padding: .45rem .9rem;
  line-height: 1;
  background: #fff;
  border: 1px solid var(--border);
  color: #0f172a;
  box-shadow: 0 1px 1px rgba(16,24,40,.04);
}
.header__filters .btn:hover{
  background: #eef2ff;
  border-color: #c7d2fe;
  box-shadow: 0 0 0 3px #e0e7ff;
}
.header__filters [aria-pressed="true"].btn,
.header__filters [aria-pressed="true"].btn.btn--ghost{
  background: linear-gradient(180deg,#eef2ff,#ffffff);
  border-color: #b7c6ff;
  color: #1e3a8a;
  box-shadow: 0 0 0 3px #e0e7ff inset, 0 1px 2px rgba(16,24,40,.04);
}

/* premium cart button */
.cart-btn{
  border-radius: 9999px;
  padding: .55rem 1rem;
  white-space: nowrap;
  display: inline-flex; align-items: center; gap: .5rem;
}
.cart-btn.btn--brand{
  background: linear-gradient(90deg,#3b82f6,#2563eb);
  border: none; color: #fff;
  box-shadow: 0 8px 18px rgba(37,99,235,.25);
}
.cart-btn.btn--brand:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(37,99,235,.28);
}
.cart-btn.btn--brand:active{
  transform: translateY(0);
  box-shadow: 0 6px 14px rgba(37,99,235,.22);
}

/* badge refinement */
.cart-badge{
  min-width: 1.15rem; height: 1.15rem; padding: 0 .25rem;
  border-radius: 999px; display: grid; place-items: center;
  font-size: .72rem; font-weight: 800; line-height: 1;
  background: var(--brand-2); color: #064e3b;
  box-shadow: 0 0 0 2px #fff; /* nice cutout effect on blue button */
}

/* === Seamless top bar (no color gap) === */
body{
  /* unify background so header matches perfectly */
  background: #f7f9fc; /* same as var(--bg) */
}
.topbar{
  background: #f7f9fc; /* match body exactly */
  backdrop-filter: none;               /* remove blur tint that caused mismatch */
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 12px rgba(16,24,40,.06); /* soft, premium shadow */
  padding: .65rem 1rem;
}

/* Make the brand block pop lightly */
.header__brand img{
  width: 40px; height: 40px; border-radius: 10px;
  background: #fff; border: 1px solid var(--border);
  box-shadow: 0 1px 2px rgba(16,24,40,.04);
}

/* === Pipe separators between chips (including before Cart) === */
/* Add a | just to the LEFT of every button except the first one */
.header__filters .btn + .btn{
  position: relative;
  margin-left: .85rem; /* room for the separator */
}
.header__filters .btn + .btn::before{
  content: "|";
  position: absolute;
  left: -.95rem;
  top: 50%;
  transform: translateY(-50%);
  color: #000000;          /* subtle, light-gray divider */
  font-weight: 600;
  pointer-events: none;
}

/* Keep the pill look consistent with separators present */
.header__filters .btn{
  border-radius: 9999px;
  padding: .45rem .9rem;
  line-height: 1;
  background: #fff;
  border: 1px solid var(--border);
  color: #0f172a;
  box-shadow: 0 1px 1px rgba(16,24,40,.04);
}
.header__filters .btn:hover{
  background: #eef2ff;
  border-color: #c7d2fe;
  box-shadow: 0 0 0 3px #e0e7ff;
}
.header__filters [aria-pressed="true"].btn{
  background: linear-gradient(180deg,#eef2ff,#ffffff);
  border-color: #b7c6ff;
  color: #1e3a8a;
  box-shadow: 0 0 0 3px #e0e7ff inset, 0 1px 2px rgba(16,24,40,.04);
}

/* Cart button stays premium */
.cart-btn.btn--brand{
  background: linear-gradient(90deg,#3b82f6,#2563eb);
  border: none; color: #fff;
  box-shadow: 0 8px 18px rgba(37,99,235,.25);
}
.cart-btn.btn--brand:hover{ transform: translateY(-1px); box-shadow: 0 12px 26px rgba(37,99,235,.28); }
.cart-btn.btn--brand:active{ transform: translateY(0); box-shadow: 0 6px 14px rgba(37,99,235,.22); }

:root{
  --code-bg: #f5f7ff;     /* soft blue-tinted panel */
  --code-border: #e5e7eb;
  --code-text: #0f172a;
}

.code-block{
  background: var(--code-bg);
  border: 1px solid var(--code-border);
  color: var(--code-text);
  padding: .9rem 1rem;
  border-radius: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: .92rem;
  line-height: 1.45;
  white-space: pre;      /* keep JSON formatting */
  overflow: auto;        /* scroll if long */
  box-shadow: 0 6px 16px rgba(16,24,40,.06);
}

/* ===== TOASTS: bottom-right, wider, animated ===== */
.toast-host{
  position: fixed;
  z-index: 50;
  bottom: 16px;           /* move to bottom */
  right: 16px;            /* dock to right */
  top: auto;              /* ensure top is not used */
  display: grid;
  gap: 12px;
  justify-items: end;     /* align to right edge */
}

/* Mobile / narrow screens: center along bottom and allow full width */
@media (max-width: 640px){
  .toast-host{
    left: 12px;
    right: 12px;
    bottom: 12px;
    justify-items: stretch;
  }
}

.toast{
  display: flex;
  align-items: flex-start;
  gap: .75rem;
  min-width: 380px;       /* wider default */
  max-width: 560px;       /* nice readable width */
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: .9rem 1rem;
  box-shadow: 0 12px 28px rgba(16,24,40,.16);
  animation: toast-in .18s ease-out; /* subtle entrance */
}

@media (max-width: 640px){
  .toast{ min-width: 0; max-width: none; width: 100%; }
}

.toast strong{ font-weight: 800; color: #0f172a; }
.toast__close{
  margin-left: auto;
  border: none;
  background: transparent;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  color: #475569;
}

/* type accents (keep from earlier) */
.toast--info{    border-color:#c7d2fe; box-shadow: 0 0 0 3px #e0e7ff inset, 0 12px 28px rgba(16,24,40,.12); }
.toast--success{ border-color:#bbf7d0; box-shadow: 0 0 0 3px #dcfce7 inset, 0 12px 28px rgba(16,24,40,.12); }
.toast--warn{    border-color:#ff0808; }
.toast--error{   border-color:#fecaca; box-shadow: 0 0 0 3px #fee2e2 inset, 0 12px 28px rgba(16,24,40,.12); }

/* entrance animation */
@keyframes toast-in{
  from{ opacity: 0; transform: translateY(8px) scale(.98); }
  to{   opacity: 1; transform: translateY(0)   scale(1); }
}

/* === Full-bleed sticky top bar (edge-to-edge) === */
.topbar{
  position: sticky;
  top: 0;
  z-index: 60;

  /* match page bg so it blends perfectly */
  background: #c4d1e1;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 12px rgba(16,24,40,.06);

  /* keep content aligned with the main page padding */
  padding-top: .65rem;
  padding-bottom: .65rem;
  padding-left: max(16px, 4vw, env(safe-area-inset-left));
  padding-right: max(16px, 4vw, env(safe-area-inset-right));

  /* FULL-BLEED TRICK: break out of the .container */
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  width: 100vw;
  left: 0;
  right: 0;

  /* ensure no rounded corners if any default exists */
  border-radius: 0;
}

/* keep the header content row tidy */
.header{
  display:flex; gap:1rem; align-items:center; flex-wrap:wrap;
}
.header__brand{ display:flex; gap:.75rem; align-items:center; }
.header__title{ font-weight:800; color:#0f172a; letter-spacing:.2px; }

/* (optional) slightly tighten chip spacing now that it’s full-width */
.header__filters{ margin-left:auto; gap:.35rem; }
